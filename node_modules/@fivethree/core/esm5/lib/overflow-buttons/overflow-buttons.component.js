/**
 * @fileoverview added by tsickle
 * Generated from: lib/overflow-buttons/overflow-buttons.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { FivPopover } from './../popover/popover.component';
import { Platform, PopoverController, ActionSheetController } from '@ionic/angular';
import { Component, Input, ContentChildren, QueryList } from '@angular/core';
import { FivButton } from '../button/button.component';
var FivOverflowButtons = /** @class */ (function () {
    function FivOverflowButtons(platform, popoverController, actionSheetController) {
        this.platform = platform;
        this.popoverController = popoverController;
        this.actionSheetController = actionSheetController;
        this.slot = 'end';
        this.icon = 'more';
        this.mode = 'popover';
        this.count = 0;
    }
    /**
     * @return {?}
     */
    FivOverflowButtons.prototype.ngOnInit = /**
     * @return {?}
     */
    function () { };
    /**
     * @return {?}
     */
    FivOverflowButtons.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () { };
    /**
     * @param {?} event
     * @return {?}
     */
    FivOverflowButtons.prototype.onMenuClicked = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (this.mode === 'action-sheet') {
            return this.presentActionSheet(event);
        }
        if (this.mode === 'popover') {
            return this.presentPopover(event);
        }
        if (this.platform.is('mobile')) {
            this.presentActionSheet(event);
        }
        else {
            this.presentPopover(event);
        }
    };
    /**
     * @param {?} ev
     * @return {?}
     */
    FivOverflowButtons.prototype.presentPopover = /**
     * @param {?} ev
     * @return {?}
     */
    function (ev) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var popover, result;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: FivPopover,
                            event: ev,
                            translucent: false,
                            componentProps: {
                                buttons: this.buttons
                                    .toArray()
                                    .slice(this.count)
                                    .filter((/**
                                 * @param {?} button
                                 * @return {?}
                                 */
                                function (button) { return !button.disabled; }))
                            }
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, popover.onDidDismiss()];
                    case 3:
                        result = _a.sent();
                        if (result &&
                            result.data &&
                            (result.data.index || result.data.index === 0)) {
                            this.onButtonClicked(result.data.index + this.count);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param {?} ev
     * @return {?}
     */
    FivOverflowButtons.prototype.presentActionSheet = /**
     * @param {?} ev
     * @return {?}
     */
    function (ev) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var buttons, actionSheet;
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        buttons = [];
                        this.buttons
                            .toArray()
                            .slice(this.count)
                            .forEach((/**
                         * @param {?} button
                         * @param {?} index
                         * @return {?}
                         */
                        function (button, index) {
                            if (!button.disabled) {
                                buttons.push({
                                    text: button.text,
                                    icon: button.icon,
                                    handler: (/**
                                     * @return {?}
                                     */
                                    function () {
                                        _this.onButtonClicked(_this.count + index);
                                    })
                                });
                            }
                        }));
                        return [4 /*yield*/, this.actionSheetController.create({
                                buttons: buttons
                            })];
                    case 1:
                        actionSheet = _a.sent();
                        return [4 /*yield*/, actionSheet.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * @param {?} i
     * @return {?}
     */
    FivOverflowButtons.prototype.onButtonClicked = /**
     * @param {?} i
     * @return {?}
     */
    function (i) {
        this.buttons.toArray()[i].click.emit();
    };
    FivOverflowButtons.decorators = [
        { type: Component, args: [{
                    selector: 'fiv-overflow-buttons',
                    template: "<ion-buttons *ngIf=\"buttons\" [slot]=\"slot\">\n\n  <fiv-button [color]=\"color\" *ngIf=\"(slot === 'start' || slot ==='primary') && count < buttons.length && text\"\n    (click)=\"onMenuClicked($event)\" [text]=\"text\"></fiv-button>\n\n  <fiv-button [color]=\"color\" *ngIf=\"(slot === 'start' || slot ==='primary') && count < buttons.length && !text\"\n    (click)=\"onMenuClicked($event)\" [icon]=\"'md-more'\"></fiv-button>\n  <ng-container>\n    <fiv-button [color]=\"button.color\" (click)=\"onButtonClicked(i)\" [icon]=\"button.icon\"\n      *ngFor=\"let button of buttons.toArray() |\u00A0slice:0:count; let i = index;\"></fiv-button>\n  </ng-container>\n  <fiv-button [color]=\"color\" *ngIf=\"(slot === 'end' || slot ==='secondary') && count < buttons.length && !text\"\n    (click)=\"onMenuClicked($event)\" [icon]=\"icon\"></fiv-button>\n  <fiv-button [color]=\"color\" *ngIf=\"(slot === 'end' || slot ==='secondary') && count < buttons.length && text\"\n    (click)=\"onMenuClicked($event)\" [text]=\"text\"></fiv-button>\n</ion-buttons>",
                    styles: [":host{display:block}"]
                }] }
    ];
    /** @nocollapse */
    FivOverflowButtons.ctorParameters = function () { return [
        { type: Platform },
        { type: PopoverController },
        { type: ActionSheetController }
    ]; };
    FivOverflowButtons.propDecorators = {
        slot: [{ type: Input }],
        icon: [{ type: Input }],
        text: [{ type: Input }],
        mode: [{ type: Input }],
        color: [{ type: Input }],
        count: [{ type: Input }],
        buttons: [{ type: ContentChildren, args: [FivButton,] }]
    };
    return FivOverflowButtons;
}());
export { FivOverflowButtons };
if (false) {
    /** @type {?} */
    FivOverflowButtons.prototype.slot;
    /** @type {?} */
    FivOverflowButtons.prototype.icon;
    /** @type {?} */
    FivOverflowButtons.prototype.text;
    /** @type {?} */
    FivOverflowButtons.prototype.mode;
    /** @type {?} */
    FivOverflowButtons.prototype.color;
    /** @type {?} */
    FivOverflowButtons.prototype.count;
    /** @type {?} */
    FivOverflowButtons.prototype.buttons;
    /**
     * @type {?}
     * @private
     */
    FivOverflowButtons.prototype.platform;
    /**
     * @type {?}
     * @private
     */
    FivOverflowButtons.prototype.popoverController;
    /** @type {?} */
    FivOverflowButtons.prototype.actionSheetController;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3ZlcmZsb3ctYnV0dG9ucy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZml2ZXRocmVlL2NvcmUvIiwic291cmNlcyI6WyJsaWIvb3ZlcmZsb3ctYnV0dG9ucy9vdmVyZmxvdy1idXR0b25zLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDNUQsT0FBTyxFQUNMLFFBQVEsRUFDUixpQkFBaUIsRUFDakIscUJBQXFCLEVBQ3RCLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEIsT0FBTyxFQUNMLFNBQVMsRUFFVCxLQUFLLEVBQ0wsZUFBZSxFQUNmLFNBQVMsRUFFVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFdkQ7SUFjRSw0QkFDVSxRQUFrQixFQUNsQixpQkFBb0MsRUFDckMscUJBQTRDO1FBRjNDLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDbEIsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUFtQjtRQUNyQywwQkFBcUIsR0FBckIscUJBQXFCLENBQXVCO1FBWDVDLFNBQUksR0FBRyxLQUFLLENBQUM7UUFDYixTQUFJLEdBQUcsTUFBTSxDQUFDO1FBRWQsU0FBSSxHQUFnRCxTQUFTLENBQUM7UUFFOUQsVUFBSyxHQUFHLENBQUMsQ0FBQztJQU9oQixDQUFDOzs7O0lBRUoscUNBQVE7OztJQUFSLGNBQVksQ0FBQzs7OztJQUViLCtDQUFrQjs7O0lBQWxCLGNBQTRCLENBQUM7Ozs7O0lBRTdCLDBDQUFhOzs7O0lBQWIsVUFBYyxLQUFLO1FBQ2pCLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxjQUFjLEVBQUU7WUFDaEMsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDdkM7UUFDRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQzNC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O3VCQUNMLEtBQUs7dUJBQ0wsS0FBSzt3QkFDTCxLQUFLO3dCQUNMLEtBQUs7MEJBQ0wsZUFBZSxTQUFDLFNBQVM7O0lBMkU1Qix5QkFBQztDQUFBLEFBdkZELElBdUZDO1NBbEZZLGtCQUFrQjs7O0lBQzdCLGtDQUFzQjs7SUFDdEIsa0NBQXVCOztJQUN2QixrQ0FBc0I7O0lBQ3RCLGtDQUF1RTs7SUFDdkUsbUNBQXVCOztJQUN2QixtQ0FBbUI7O0lBQ25CLHFDQUEwRDs7Ozs7SUFHeEQsc0NBQTBCOzs7OztJQUMxQiwrQ0FBNEM7O0lBQzVDLG1EQUFtRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZpdlBvcG92ZXIgfSBmcm9tICcuLy4uL3BvcG92ZXIvcG9wb3Zlci5jb21wb25lbnQnO1xuaW1wb3J0IHtcbiAgUGxhdGZvcm0sXG4gIFBvcG92ZXJDb250cm9sbGVyLFxuICBBY3Rpb25TaGVldENvbnRyb2xsZXJcbn0gZnJvbSAnQGlvbmljL2FuZ3VsYXInO1xuaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBPbkluaXQsXG4gIElucHV0LFxuICBDb250ZW50Q2hpbGRyZW4sXG4gIFF1ZXJ5TGlzdCxcbiAgQWZ0ZXJDb250ZW50SW5pdFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZpdkJ1dHRvbiB9IGZyb20gJy4uL2J1dHRvbi9idXR0b24uY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZml2LW92ZXJmbG93LWJ1dHRvbnMnLFxuICB0ZW1wbGF0ZVVybDogJy4vb3ZlcmZsb3ctYnV0dG9ucy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL292ZXJmbG93LWJ1dHRvbnMuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBGaXZPdmVyZmxvd0J1dHRvbnMgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyQ29udGVudEluaXQge1xuICBASW5wdXQoKSBzbG90ID0gJ2VuZCc7XG4gIEBJbnB1dCgpIGljb24gPSAnbW9yZSc7XG4gIEBJbnB1dCgpIHRleHQ6IHN0cmluZztcbiAgQElucHV0KCkgbW9kZTogJ3BvcG92ZXInIHwgJ2FjdGlvbi1zaGVldCcgfCAnYm90dG9tLXNoZWV0JyA9ICdwb3BvdmVyJztcbiAgQElucHV0KCkgY29sb3I6IHN0cmluZztcbiAgQElucHV0KCkgY291bnQgPSAwO1xuICBAQ29udGVudENoaWxkcmVuKEZpdkJ1dHRvbikgYnV0dG9uczogUXVlcnlMaXN0PEZpdkJ1dHRvbj47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBwbGF0Zm9ybTogUGxhdGZvcm0sXG4gICAgcHJpdmF0ZSBwb3BvdmVyQ29udHJvbGxlcjogUG9wb3ZlckNvbnRyb2xsZXIsXG4gICAgcHVibGljIGFjdGlvblNoZWV0Q29udHJvbGxlcjogQWN0aW9uU2hlZXRDb250cm9sbGVyXG4gICkge31cblxuICBuZ09uSW5pdCgpIHt9XG5cbiAgbmdBZnRlckNvbnRlbnRJbml0KCk6IHZvaWQge31cblxuICBvbk1lbnVDbGlja2VkKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMubW9kZSA9PT0gJ2FjdGlvbi1zaGVldCcpIHtcbiAgICAgIHJldHVybiB0aGlzLnByZXNlbnRBY3Rpb25TaGVldChldmVudCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm1vZGUgPT09ICdwb3BvdmVyJykge1xuICAgICAgcmV0dXJuIHRoaXMucHJlc2VudFBvcG92ZXIoZXZlbnQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5wbGF0Zm9ybS5pcygnbW9iaWxlJykpIHtcbiAgICAgIHRoaXMucHJlc2VudEFjdGlvblNoZWV0KGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVzZW50UG9wb3ZlcihldmVudCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcHJlc2VudFBvcG92ZXIoZXY6IGFueSkge1xuICAgIGNvbnN0IHBvcG92ZXIgPSBhd2FpdCB0aGlzLnBvcG92ZXJDb250cm9sbGVyLmNyZWF0ZSh7XG4gICAgICBjb21wb25lbnQ6IEZpdlBvcG92ZXIsXG4gICAgICBldmVudDogZXYsXG4gICAgICB0cmFuc2x1Y2VudDogZmFsc2UsXG4gICAgICBjb21wb25lbnRQcm9wczoge1xuICAgICAgICBidXR0b25zOiB0aGlzLmJ1dHRvbnNcbiAgICAgICAgICAudG9BcnJheSgpXG4gICAgICAgICAgLnNsaWNlKHRoaXMuY291bnQpXG4gICAgICAgICAgLmZpbHRlcihidXR0b24gPT4gIWJ1dHRvbi5kaXNhYmxlZClcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGF3YWl0IHBvcG92ZXIucHJlc2VudCgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvcG92ZXIub25EaWREaXNtaXNzKCk7XG4gICAgaWYgKFxuICAgICAgcmVzdWx0ICYmXG4gICAgICByZXN1bHQuZGF0YSAmJlxuICAgICAgKHJlc3VsdC5kYXRhLmluZGV4IHx8IHJlc3VsdC5kYXRhLmluZGV4ID09PSAwKVxuICAgICkge1xuICAgICAgdGhpcy5vbkJ1dHRvbkNsaWNrZWQocmVzdWx0LmRhdGEuaW5kZXggKyB0aGlzLmNvdW50KTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBwcmVzZW50QWN0aW9uU2hlZXQoZXY6IGFueSkge1xuICAgIGNvbnN0IGJ1dHRvbnMgPSBbXTtcbiAgICB0aGlzLmJ1dHRvbnNcbiAgICAgIC50b0FycmF5KClcbiAgICAgIC5zbGljZSh0aGlzLmNvdW50KVxuICAgICAgLmZvckVhY2goKGJ1dHRvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKCFidXR0b24uZGlzYWJsZWQpIHtcbiAgICAgICAgICBidXR0b25zLnB1c2goe1xuICAgICAgICAgICAgdGV4dDogYnV0dG9uLnRleHQsXG4gICAgICAgICAgICBpY29uOiBidXR0b24uaWNvbixcbiAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5vbkJ1dHRvbkNsaWNrZWQodGhpcy5jb3VudCArIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgY29uc3QgYWN0aW9uU2hlZXQgPSBhd2FpdCB0aGlzLmFjdGlvblNoZWV0Q29udHJvbGxlci5jcmVhdGUoe1xuICAgICAgYnV0dG9uczogYnV0dG9uc1xuICAgIH0pO1xuICAgIGF3YWl0IGFjdGlvblNoZWV0LnByZXNlbnQoKTtcbiAgfVxuXG4gIG9uQnV0dG9uQ2xpY2tlZChpOiBudW1iZXIpIHtcbiAgICB0aGlzLmJ1dHRvbnMudG9BcnJheSgpW2ldLmNsaWNrLmVtaXQoKTtcbiAgfVxufVxuIl19